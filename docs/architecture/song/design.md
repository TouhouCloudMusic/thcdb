# Song (歌曲) 模块

> **实现状态**: ✅ 已完成 | [查看路线图](../ROADMAP.md)

歌曲实体，代表单独的音乐作品或曲目。歌曲是数据库中音乐内容的基本单位。

## 基本信息

- **Title / 标题**: 歌曲的主要标题

## 设计理念

歌曲实体采用极简的核心设计，大部分元数据存储在相关实体中。这种方法提供：

- **灵活性** - 可以在不改变核心结构的情况下添加额外属性
- **国际化** - 支持多语言标题和元数据
- **历史追踪** - 所有变更都在相关历史表中追踪
- **可扩展性** - 可以根据需要添加新类型的歌曲元数据

## 歌曲身份

歌曲代表抽象的音乐作品，独立于特定的录音或演出：

- 一首歌曲可以出现在多个发行版本中
- 歌曲不可以有多个版本（翻唱、混音、现场版本），不同的版本属于不同的歌曲

## 相关实体

### 核心关联

- **艺人**: 作曲者、表演者、作词者和其他贡献者
- **发行版本**: 包含该歌曲的专辑、单曲和其他发行版本
- **制作人员**: 详细的基于角色的贡献追踪

### 内容和元数据

- **歌词**: 完整的歌词内容及版本控制
- **语言**: 演出和歌词的语言
- **本地化标题**: 多语言和多文字的歌曲标题

## 歌词管理

歌曲可以通过 `song_lyrics` 实体管理歌词：

- **当前歌词**: 最新版本
- **历史追踪**: 所有以前的版本和变更
- **多语言支持**: 不同语言的歌词
- **版本控制**: 随时间追踪变更，提供完整的审计轨迹

## 历史追踪

相关历史表：
- `song_history` - 歌曲基本信息变更历史
- `song_artist_history` - 歌曲艺人关联历史
- `song_credit_history` - 歌曲制作人员历史
- `song_language_history` - 歌曲语言历史
- `song_localized_title_history` - 歌曲本地化标题历史
- `song_lyrics_history` - 歌词变更历史

## API 端点

| 端点 | 方法 | 状态 | 说明 |
|------|------|------|------|
| `/song` | GET | ✅ | 查询歌曲列表 |
| `/song/{id}` | GET | ✅ | 获取歌曲详情 |
| `/song` | POST | ✅ | 创建歌曲 (通过修正系统) |
| `/song/{id}` | PUT | ✅ | 更新歌曲 (通过修正系统) |
| `/song/{id}/lyrics` | GET | ✅ | 获取歌词 |
