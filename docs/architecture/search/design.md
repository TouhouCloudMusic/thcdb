# Search (搜索) 模块

> **实现状态**: ❌ 未实现 | [查看路线图](../ROADMAP.md#search)

搜索功能为用户提供跨语言、跨实体的内容发现能力。

## 系统概述

搜索系统需要支持：

- **跨语言搜索**: 支持中文、日文、英文等多语言
- **罗马化支持**: 用罗马字搜索日语内容
- **模糊匹配**: 处理拼写错误和变体
- **多实体搜索**: 搜索艺人、发行版本、歌曲等

## 搜索特性

### 跨语言搜索

搜索功能跨越所有本地化版本：

- **跨语言搜索**: 无论语言如何都能找到内容
- **罗马化支持**: 用罗马字搜索日语内容
- **文字转换**: 处理不同的书写系统
- **模糊匹配**: 考虑音译变体

### 搜索目标

可搜索的实体类型：

- **Artist**: 艺人名称、别名、本地化名称
- **Release**: 发行版本标题、本地化标题
- **Song**: 歌曲标题、本地化标题
- **Event**: 活动名称、替代名称
- **Label**: 厂牌名称、本地化名称
- **Tag**: 标签名称、替代名称

### 搜索过滤器

支持的过滤选项：

- **按类型**: 限定搜索特定实体类型
- **按日期范围**: 限定发行日期范围
- **按标签**: 限定特定标签
- **按艺人**: 限定特定艺人的作品

## 技术方案

### 选项 1: PostgreSQL 全文搜索

使用 PostgreSQL 内置的全文搜索功能：

- `tsvector` 存储搜索向量
- `tsquery` 执行搜索查询
- 支持中文需要额外配置

### 选项 2: 专用搜索引擎

使用专用搜索引擎如 Meilisearch 或 Elasticsearch：

- 更好的搜索性能和相关性排序
- 更好的多语言支持
- 需要额外的基础设施

## API 端点 (待实现)

### 基本搜索

| 端点 | 方法 | 说明 |
|------|------|------|
| `/search` | GET | 全局搜索 |
| `/search/artists` | GET | 搜索艺人 |
| `/search/releases` | GET | 搜索发行版本 |
| `/search/songs` | GET | 搜索歌曲 |
| `/search/events` | GET | 搜索活动 |
| `/search/labels` | GET | 搜索厂牌 |
| `/search/tags` | GET | 搜索标签 |

### 查询参数

| 参数 | 类型 | 说明 |
|------|------|------|
| `q` | string | 搜索关键词 |
| `type` | string | 实体类型过滤 |
| `limit` | int | 返回数量限制 |
| `offset` | int | 分页偏移 |
